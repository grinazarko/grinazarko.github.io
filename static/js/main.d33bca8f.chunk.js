(this.webpackJsonpbotan=this.webpackJsonpbotan||[]).push([[0],{39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},60:function(e,t){},85:function(e,t,n){},87:function(e,t,n){},89:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),s=n(15),r=n.n(s),o=(n(39),n(7)),i=n(4),l=(n(40),n(25)),d=(n(41),n(1)),u=function(){var e=Object(c.useContext)(R),t=e.filtersState,n=e.filtersDispatch,a=[{value:"",label:"All"},{value:"enabled",label:"Enabled"},{value:"disabled",label:"Disabled"}],s=[{value:"",label:"All"},{value:"long",label:"Long"},{value:"short",label:"Short"}];return Object(d.jsxs)("div",{className:"BotsFilters",children:[Object(d.jsxs)("div",{className:"BotsFilterGroup",children:[Object(d.jsx)("div",{className:"FilterTitle",children:"Status"}),Object(d.jsx)(l.a,{onChange:function(e){n({type:"setScope",payload:e.value})},value:a.find((function(e){return e.value===t.scope})),options:a,className:"scopeFilter"})]}),Object(d.jsxs)("div",{className:"BotsFilterGroup",children:[Object(d.jsx)("div",{className:"FilterTitle",children:"Type"}),Object(d.jsx)(l.a,{onChange:function(e){n({type:"setType",payload:e.value})},value:s.find((function(e){return e.value===t.type})),options:s,className:"typeFilter"})]})]})},j=n(14),b=n(19),h=n.n(b);function f(e,t){return h.a.algo.HMAC.create(h.a.algo.SHA256,t).update(e).finalize().toString(h.a.enc.Hex)}var p=function(e,t){var n=new URLSearchParams(window.location.search).get("api_key")||"",c=new URLSearchParams(window.location.search).get("secret")||"";return fetch("https://api.3commas.io".concat(t),{method:e,headers:{APIKEY:n,Signature:f(t,c)}})},O=n(90),v=n(91),x=(n(85),n(24)),m=n.n(x),g=n(33);function _(){return(_=Object(g.a)(m.a.mark((function e(t,n){var c,a,s,r,o,i,l,d,u,j,b,h,f,O;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&n){e.next=2;break}return e.abrupt("return",0);case 2:if(c=parseInt(t.max_active_deals),a=parseFloat(t.base_order_volume),s=parseInt(t.max_safety_orders),r=parseFloat(t.safety_order_volume),o=parseFloat(t.leverage_custom_value),i=parseFloat(t.martingale_volume_coefficient),"base_currency"!==t.base_order_volume_type){e.next=17;break}return e.next=11,p("GET","/public/api/ver1/accounts/currency_rates?market_code=".concat(n.market_code,"&pair=").concat(t.pairs[0])).then((function(e){return e.json()}));case 11:l=e.sent,d=parseFloat(l.last),a*=d,r*=d,e.next=26;break;case 17:if("percent"!==t.base_order_volume_type){e.next=26;break}return e.next=20,p("POST","/public/api/ver1/accounts/".concat(t.account_id,"/account_table_data")).then((function(e){return e.json()}));case 20:u=e.sent,j=t.pairs[0].split("_")[0],b=u.find((function(e){return e.currency_code===j})),h=parseFloat(b.equity)-parseFloat(b.on_orders),a=a*h/100,r=r*h/100;case 26:return o&&(a/=o,r/=o),f=0,1!==i&&s>1?(O=r*(1-Math.pow(i,s))/(1-i),f=(O+a)*c):f=(s*r+a)*c,e.abrupt("return",f);case 30:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var y={nonstop:"Non-stop",qfl:"QFL",tv_custom_signal:"TV custom signal",trading_view:"TradingView Screener",rsi:"RSI-3m-20",manual:"Manual",ult:"ULT",ta_preset:"TA Preset",cqs_telegram:"CQS Scalping"},S=function(e){var t=e.botItem,n=Object(c.useState)({profits_in_usd:{funds_locked_in_active_deals:0}}),a=Object(o.a)(n,2),s=a[0],r=a[1];Object(c.useEffect)((function(){p("GET","/public/api/ver1/bots/stats?bot_id=".concat(t.id)).then((function(e){return e.json()})).then((function(e){r(e)}))}),[]);var i=Object(c.useState)({market_icon:""}),l=Object(o.a)(i,2),u=l[0],j=l[1];Object(c.useEffect)((function(){p("GET","/public/api/ver1/accounts/".concat(t.account_id)).then((function(e){return e.json()})).then((function(e){j(e)}))}),[]);var b=Object(c.useState)(0),h=Object(o.a)(b,2),f=h[0],v=h[1];Object(c.useEffect)((function(){(function(e,t){return _.apply(this,arguments)})(t,u).then((function(e){v(e)}))}),[u,t]);var x,m,g=(x=new Date,m=new Date(t.created_at),Math.floor((x.getTime()-m.getTime())/864e5)),S=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),C=t.strategy_list[0].strategy;return t.strategy_list.length>1?C="Combined":C in y&&(C=y[C]),Object(d.jsxs)("div",{className:"BotPreview",children:[Object(d.jsxs)("div",{className:"BotPreviewTopRow",children:[Object(d.jsxs)("div",{className:"BotPreviewIconsSetContainer",children:[Object(d.jsx)(N,{botType:t.type,strategy:t.strategy,botId:t.id,marketIcon:u.market_icon}),Object(d.jsx)(B,{strategy:t.strategy,age:g,is_enabled:t.is_enabled})]}),Object(d.jsxs)("div",{className:"BotPreviewTableContainer",children:[Object(d.jsx)(I,{name:t.name}),Object(d.jsx)(O.a,{striped:!0,size:"sm",style:{fontSize:"12px",marginBottom:"0"},children:Object(d.jsxs)("tbody",{children:[Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{style:{fontWeight:"bold",width:"170px"},children:"ID"}),Object(d.jsx)("td",{children:t.id})]}),Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{style:{fontWeight:"bold"},children:"Startegy"}),Object(d.jsx)("td",{children:C})]}),Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{style:{fontWeight:"bold"},children:"Active deals/Max"}),Object(d.jsx)("td",{children:"".concat(t.active_deals_count,"/").concat(t.max_active_deals)})]}),Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{style:{fontWeight:"bold"},children:"Total profit/Loss"}),Object(d.jsx)("td",{children:S.format(t.finished_deals_profit_usd)})]}),Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{style:{fontWeight:"bold"},children:"Funds locked/Max usage"}),Object(d.jsx)("td",{children:"".concat(S.format(s.profits_in_usd.funds_locked_in_active_deals),"/").concat(S.format(f))})]}),Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{style:{fontWeight:"bold"},children:"Current uPnL"}),Object(d.jsx)("td",{children:S.format(t.active_deals_usd_profit)})]})]})})]})]}),Object(d.jsx)("div",{children:Object(d.jsx)(w,{})})]})},N=function(e){var t=e.botType,n=e.strategy,c=e.botId,a=e.marketIcon;return Object(d.jsxs)("div",{className:"IconsSetContainer",children:[Object(d.jsx)("div",{className:"BotTypeIconContainer",children:"Bot::SingleBot"===t?"S":"M"}),Object(d.jsx)("div",{className:"BotMarketIconContainer",children:Object(d.jsx)("div",{className:"BotMarketIcon",style:{backgroundImage:"url(".concat(a,")")}})}),Object(d.jsx)("div",{className:"RobotsIconContainer",children:Object(d.jsx)("img",{src:"/robotsIcons/robots-vector-free-icon-set-".concat("short"===n?"2":"3").concat(String(c).slice(-1),".png"),alt:"logo",className:"RobotsIcon"})})]})},I=function(e){var t=e.name;return Object(d.jsx)("div",{className:"BotNameContainer",children:Object(d.jsx)("span",{className:"BotName",children:t})})},B=function(e){var t=e.strategy,n=e.age,c=e.is_enabled;return Object(d.jsxs)("div",{className:"BotInfoContainer",children:[Object(d.jsxs)("div",{className:"BotInfoRecordContainer",children:[Object(d.jsx)("div",{className:"BotInfoLabel",children:"Side:"}),"long"===t?Object(d.jsx)(v.a,{bg:"success",children:"Long"}):Object(d.jsx)(v.a,{bg:"danger",children:"Short"})]}),Object(d.jsxs)("div",{className:"BotInfoRecordContainer",children:[Object(d.jsx)("div",{className:"BotInfoLabel",children:"Age:"}),Object(d.jsx)("div",{className:"BotInfoValue",children:"".concat(n," days")})]}),!c&&Object(d.jsx)("div",{className:"BotInfoRecordContainer",children:Object(d.jsx)(v.a,{bg:"warning",text:"dark",children:"Disabled"})})]})},w=function(){return Object(d.jsxs)("div",{className:"BotReturnsContainer",children:[Object(d.jsx)("div",{className:"BotReturnsValue",style:{color:"#198754"},children:"+1000%"}),Object(d.jsx)("div",{className:"BotReturnsLabel",children:"Returns (30d)"})]})},C=n(34),T=(n(87),n(92)),k=function(){var e=Object(c.useContext)(R).filtersState,t=Object(c.useState)([]),n=Object(o.a)(t,2),a=n[0],s=n[1],r=Object(c.useState)(0),i=Object(o.a)(r,2),l=i[0],u=i[1],b=Object(c.useState)(!0),h=Object(o.a)(b,2),f=h[0],O=h[1],v=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return"/public/api/ver1/bots?offset=".concat(t?0:l,"&limit=").concat(10).concat(e.scope?"&scope=".concat(e.scope):"").concat(e.type?"&strategy=".concat(e.type):"")};return Object(c.useEffect)((function(){O(!0),p("GET",v(!0)).then((function(e){return e.json()})).then((function(e){s(e),u(10),e.length<10&&O(!1)}))}),[e]),Object(d.jsx)(C.a,{dataLength:a.length,next:function(){return p("GET",v()).then((function(e){return e.json()})).then((function(e){0===e.length&&O(!1),u((function(e){return e+10})),s((function(t){return[].concat(Object(j.a)(t),Object(j.a)(e))}))}))},hasMore:f,loader:Object(d.jsx)("div",{className:"SpinnerContainer",children:Object(d.jsx)(T.a,{animation:"grow"})}),endMessage:Object(d.jsx)("p",{style:{textAlign:"center"},children:Object(d.jsx)("b",{children:"Yay! You have seen it all"})}),children:Object(d.jsx)("div",{className:"BotsList",children:a.map((function(e){return Object(d.jsx)(S,{botItem:e},e.id)}))})})},F={scope:"",type:""};function L(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"setScope":return Object(i.a)(Object(i.a)({},e),{},{scope:t.payload});case"setType":return Object(i.a)(Object(i.a)({},e),{},{type:t.payload});default:throw new Error}}var R=Object(c.createContext)({filtersState:F,filtersDispatch:function(e){}});var E=function(){var e=Object(c.useReducer)(L,F),t=Object(o.a)(e,2),n=t[0],a=t[1];return Object(d.jsx)(R.Provider,{value:{filtersState:n,filtersDispatch:a},children:Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(u,{}),Object(d.jsx)(k,{})]})})},P=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,93)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),s(e),r(e)}))};n(88);r.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(E,{})}),document.getElementById("root")),P()}},[[89,1,2]]]);
//# sourceMappingURL=main.d33bca8f.chunk.js.map